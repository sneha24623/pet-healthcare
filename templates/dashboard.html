<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pet Healthcare Management System - Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <h2>ğŸ¾ Pet Healthcare Dashboard</h2>
            </div>
            
            <div class="nav-menu">
                <a href="{{ url_for('render_page', page_name='home') }}" class="nav-link">Home</a>
                <div class="dropdown">
                    <button class="dropdown-btn">Features â–¼</button>
                    <div class="dropdown-content">
                        <a href="{{ url_for('render_page', page_name='adoption') }}">ğŸ• Adoption</a>
                        <a href="{{ url_for('render_page', page_name='vet-appointment') }}">ğŸ¥ Vet Appointment</a>
                        <a href="#diet">ğŸ– Diet Planner</a>
                        <a href="{{ url_for('render_page', page_name='health-dashboard') }}">ğŸ“Š Health Dashboard</a>
                    </div>
                </div>
                <button class="btn-nav" onclick="logout()">Logout</button>
            </div>
        </div>
    </nav>

    <main class="dashboard-main">
        <div class="dashboard-container">
            <div class="welcome-section">
                <h1 class="dashboard-title">Welcome <span id="userName">User</span>! ğŸ¾</h1>
                <p class="dashboard-subtitle">Manage your furry friends' health and happiness</p>
            </div>

            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <div class="card-icon">ğŸ•</div>
                    <h3>My Pets</h3>
                    <p>Manage your pet profiles and information</p>
                    <div class="card-stats">
                        <span class="stat-number">3</span>
                        <span class="stat-label">Registered Pets</span>
                    </div>
                    <a href="{{ url_for('render_page', page_name='health-dashboard') }}" class="card-btn">View Pets</a>
                </div>

                <div class="dashboard-card">
                    <div class="card-icon">ğŸ¥</div>
                    <h3>Appointments</h3>
                    <p>Schedule and track veterinary visits</p>
                    <div class="card-stats">
                        <span class="stat-number">2</span>
                        <span class="stat-label">Upcoming</span>
                    </div>
                    <a href="{{ url_for('render_page', page_name='vet-appointment') }}" class="card-btn">Book Now</a>

                <div class="dashboard-card">
                    <div class="card-icon">ğŸ’Š</div>
                    <h3>Health Records</h3>
                    <p>Complete health history including appointments and vaccinations</p>
                    <div class="card-stats">
                        <span class="stat-number">24</span>
                        <span class="stat-label">Health Records</span>
                    </div>
                    <button class="card-btn" onclick="showHealthRecords()">View Records</button>
                </div>

                <div class="dashboard-card">
                    <div class="card-icon">ğŸ–</div>
                    <h3>Diet Planner</h3>
                    <p>Customize nutrition plans for your pets</p>
                    <div class="card-stats">
                        <span class="stat-number">5</span>
                        <span class="stat-label">Meal Plans</span>
                    </div>
                    <button class="card-btn" onclick="showDietPlanner()">Plan Diet</button>
                </div>

                <div class="dashboard-card">
                    <div class="card-icon">ğŸ¯</div>
                    <h3>Adoption Center</h3>
                    <p>Find new furry family members or list pets for adoption</p>
                    <div class="card-stats">
                        <span class="stat-number">25</span>
                        <span class="stat-label">Available Pets</span>
                    </div>
                    <a href="{{ url_for('render_page', page_name='adoption') }}" class="card-btn">Browse Pets</a>
                </div>

                <div class="dashboard-card">
                    <div class="card-icon">ğŸ–</div>
                    <h3>Diet Planner</h3>
                    <p>Personalized nutrition plans and meal schedules for your pets</p>
                    <div class="card-stats">
                        <span class="stat-number">5</span>
                        <span class="stat-label">Diet Plans</span>
                    </div>
                    <button class="card-btn" onclick="showDietPlanner()">Plan Diet</button>
                </div>
            </div>

            <div class="quick-actions">
                <h2>Quick Actions</h2>
                <div class="action-buttons">
                    <button class="action-btn emergency" onclick="showEmergencyContact()">ğŸš¨ Emergency Contact</button>
                    <button class="action-btn reminder" onclick="showSetReminder()">â° Set Reminder</button>
                    <button class="action-btn add-pet" onclick="showAddNewPet()">â• Add New Pet</button>
                </div>
            </div>
        </div>
    </main>

    <div id="emergencyContactModal" class="modal">
        <div class="modal-content emergency-modal">
            <div class="modal-header emergency-modal-header">
                <h2>ğŸš¨ Emergency Contact Information</h2>
                <span class="close" onclick="closeEmergencyContactModal()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="emergency-grid">
                    <div class="emergency-card helpline-info">
                        <h3>ğŸ“ Emergency Helplines</h3>
                        <div class="helpline-list">
                            <div class="helpline-item">
                                <span class="helpline-icon">ğŸ¥</span>
                                <div>
                                    <strong>24/7 Pet Emergency:</strong>
                                    <span class="helpline-number">1-800-PET-HELP</span>
                                </div>
                            </div>
                            <div class="helpline-item">
                                <span class="helpline-icon">â˜ ï¸</span>
                                <div>
                                    <strong>Poison Control:</strong>
                                    <span class="helpline-number">1-888-426-4435</span>
                                </div>
                            </div>
                            <div class="helpline-item">
                                <span class="helpline-icon">ğŸš‘</span>
                                <div>
                                    <strong>Animal Ambulance:</strong>
                                    <span class="helpline-number">1-800-VET-RIDE</span>
                                </div>
                            </div>
                            <div class="helpline-item">
                                <span class="helpline-icon">ğŸ¥</span>
                                <div>
                                    <strong>Nearest Emergency Clinic:</strong>
                                    <span class="helpline-number">+1 (555) 911-PETS</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="emergency-card owner-info">
                        <h3>ğŸ‘¤ Your Emergency Contacts</h3>
                        <div class="emergency-details">
                            <div class="detail-item">
                                <span class="detail-icon">ğŸ‘¤</span>
                                <div>
                                    <strong>Primary Contact:</strong>
                                    <span>John Smith</span>
                                </div>
                            </div>
                            <div class="detail-item">
                                <span class="detail-icon">ğŸ“</span>
                                <div>
                                    <strong>Phone:</strong>
                                    <span>+1 (555) 123-4567</span>
                                </div>
                            </div>
                            <div class="detail-item">
                                <span class="detail-icon">ğŸ“±</span>
                                <div>
                                    <strong>Emergency Contact:</strong>
                                    <span>+1 (555) 987-6543</span>
                                </div>
                            </div>
                            <div class="detail-item">
                                <span class="detail-icon">ğŸ¥</span>
                                <div>
                                    <strong>Primary Vet:</strong>
                                    <span>Dr. Sarah Johnson</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="sos-section">
                    <button class="sos-btn" onclick="triggerSOS()">
                        <span class="sos-icon">ğŸš¨</span>
                        <span class="sos-text">SOS EMERGENCY</span>
                        <span class="sos-subtext">Tap for Urgent Help</span>
                    </button>
                    <p class="sos-description">
                        Press the SOS button in case of a life-threatening emergency. 
                        This will immediately connect you to emergency services and notify your registered contacts.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div id="setReminderModal" class="modal">
        <div class="modal-content reminder-modal">
            <div class="modal-header">
                <h2>â° Set Pet Care Reminder</h2>
                <span class="close" onclick="closeSetReminderModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="reminderForm" class="reminder-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="reminderPet">Select Pet</label>
                            <select id="reminderPet" required>
                                <option value="">Choose your pet</option>
                                <option value="buddy">ğŸ• Buddy - Golden Retriever</option>
                                <option value="luna">ğŸ± Luna - Persian Cat</option>
                                <option value="max">ğŸ• Max - Labrador Mix</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="reminderType">Reminder Type</label>
                            <select id="reminderType" required>
                                <option value="">Select reminder type</option>
                                <option value="medication">ğŸ’Š Medication/Pills</option>
                                <option value="vaccination">ğŸ’‰ Vaccination</option>
                                <option value="feeding">ğŸ– Feeding Time</option>
                                <option value="grooming">âœ‚ï¸ Grooming</option>
                                <option value="exercise">ğŸƒ Exercise</option>
                                <option value="checkup">ğŸ¥ Vet Checkup</option>
                                <option value="other">ğŸ“ Other</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="reminderDate">Date</label>
                            <input type="date" id="reminderDate" required>
                        </div>
                        <div class="form-group">
                            <label for="reminderTime">Time</label>
                            <input type="time" id="reminderTime" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="reminderTitle">Reminder Title</label>
                        <input type="text" id="reminderTitle" placeholder="e.g., Give Buddy his heart medication" required>
                    </div>

                    <div class="form-group">
                        <label for="reminderNotes">Additional Notes</label>
                        <textarea id="reminderNotes" rows="3" placeholder="Any special instructions or notes..."></textarea>
                    </div>

                    <div class="form-group">
                        <label for="reminderFrequency">Frequency</label>
                        <select id="reminderFrequency" required>
                            <option value="once">One-time reminder</option>
                            <option value="daily">Daily</option>
                            <option value="weekly">Weekly</option>
                            <option value="monthly">Monthly</option>
                            <option value="yearly">Yearly</option>
                        </select>
                    </div>

                    <button type="submit" class="modal-btn reminder-btn">â° Set Reminder</button>
                </form>
            </div>
        </div>
    </div>

    <div id="addNewPetModal" class="modal">
        <div class="modal-content add-pet-modal">
            <div class="modal-header">
                <h2>â• Add New Pet</h2>
                <span class="close" onclick="closeAddNewPetModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="addPetForm" class="add-pet-form">
                    <div class="form-section">
                        <h3>ğŸ¾ Basic Information</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="newPetName">Pet Name</label>
                                <input type="text" id="newPetName" placeholder="Enter your pet's name" required>
                            </div>
                            <div class="form-group">
                                <label for="newPetType">Pet Type</label>
                                <select id="newPetType" required>
                                    <option value="">Select pet type</option>
                                    <option value="dog">ğŸ• Dog</option>
                                    <option value="cat">ğŸ± Cat</option>
                                    <option value="bird">ğŸ¦ Bird</option>
                                    <option value="rabbit">ğŸ° Rabbit</option>
                                    <option value="hamster">ğŸ¹ Hamster</option>
                                    <option value="fish">ğŸ  Fish</option>
                                    <option value="other">ğŸ¾ Other</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="newPetBreed">Breed</label>
                                <input type="text" id="newPetBreed" placeholder="e.g., Golden Retriever, Persian Cat" required>
                            </div>
                            <div class="form-group">
                                <label for="newPetGender">Gender</label>
                                <select id="newPetGender" required>
                                    <option value="">Select gender</option>
                                    <option value="male">â™‚ï¸ Male</option>
                                    <option value="female">â™€ï¸ Female</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="newPetAge">Age</label>
                                <input type="text" id="newPetAge" placeholder="e.g., 2 years, 6 months" required>
                            </div>
                            <div class="form-group">
                                <label for="newPetWeight">Weight</label>
                                <input type="text" id="newPetWeight" placeholder="e.g., 25 kg, 4.5 lbs" required>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3>ğŸ¥ Health Information</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="newPetHealthStatus">Health Status</label>
                                <select id="newPetHealthStatus" required>
                                    <option value="">Select health status</option>
                                    <option value="excellent">Excellent</option>
                                    <option value="good">Good</option>
                                    <option value="fair">Fair</option>
                                    <option value="needs-attention">Needs Attention</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="newPetVet">Primary Veterinarian</label>
                                <input type="text" id="newPetVet" placeholder="e.g., Dr. Sarah Johnson">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="newPetAllergies">Known Allergies</label>
                            <input type="text" id="newPetAllergies" placeholder="e.g., Chicken protein, Flea medication">
                        </div>

                        <div class="form-group">
                            <label for="newPetMedications">Current Medications</label>
                            <textarea id="newPetMedications" rows="2" placeholder="List any current medications..."></textarea>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3>ğŸ“ Emergency Contact</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="newPetEmergencyContact">Emergency Contact Name</label>
                                <input type="text" id="newPetEmergencyContact" placeholder="Emergency contact person">
                            </div>
                            <div class="form-group">
                                <label for="newPetEmergencyPhone">Emergency Phone</label>
                                <input type="tel" id="newPetEmergencyPhone" placeholder="+1 (555) 123-4567">
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="newPetNotes">Additional Notes</label>
                        <textarea id="newPetNotes" rows="3" placeholder="Any additional information about your pet..."></textarea>
                    </div>

                    <button type="submit" class="modal-btn add-pet-btn">â• Add Pet to Family</button>
                </form>
            </div>
        </div>
    </div>

    <div id="reminderSuccessModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>âœ… Reminder Set Successfully!</h2>
                <span class="close" onclick="closeReminderSuccessModal()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="success-animation">
                    <div class="checkmark">â°</div>
                </div>
                <h3 id="reminderSuccessDetails">Reminder Details</h3>
                <p class="modal-message">
                    Your reminder has been set successfully! ğŸ“…
                </p>
                <p class="modal-submessage">
                    You will receive notifications via email and push notifications when it's time.
                </p>
                <div class="modal-info">
                    <div class="info-item">
                        <span class="info-icon">ğŸ“§</span>
                        <span>Email notification enabled</span>
                    </div>
                    <div class="info-item">
                        <span class="info-icon">ğŸ“±</span>
                        <span>Push notification enabled</span>
                    </div>
                </div>
                <button class="modal-btn" onclick="closeReminderSuccessModal()">
                    Perfect! ğŸ‰
                </button>
            </div>
        </div>
    </div>

    <div id="addPetSuccessModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ‰ Pet Added Successfully!</h2>
                <span class="close" onclick="closeAddPetSuccessModal()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="success-animation">
                    <div class="checkmark">ğŸ¾</div>
                </div>
                <h3 id="addPetSuccessDetails">Welcome to the Family!</h3>
                <p class="modal-message">
                    Your new pet has been added to your healthcare dashboard! ğŸ 
                </p>
                <p class="modal-submessage">
                    You can now schedule appointments, set reminders, and track their health progress.
                </p>
                <div class="modal-info">
                    <div class="info-item">
                        <span class="info-icon">ğŸ“Š</span>
                        <span>Health dashboard updated</span>
                    </div>
                    <div class="info-item">
                        <span class="info-icon">ğŸ“…</span>
                        <span>Ready for appointments</span>
                    </div>
                </div>
                <button class="modal-btn" onclick="closeAddPetSuccessModal()">
                    Awesome! ğŸ‰
                </button>
            </div>
        </div>
    </div>

    <div id="sosModal" class="modal">
        <div class="modal-content emergency-modal">
            <div class="modal-header emergency-modal-header">
                <h2>ğŸš¨ EMERGENCY ACTIVATED</h2>
            </div>
            <div class="modal-body">
                <div class="emergency-animation">
                    <div class="emergency-pulse">ğŸš¨</div>
                </div>
                <h3>Emergency Services Contacted</h3>
                <p class="modal-message emergency-message">
                    ğŸš‘ Emergency services have been notified!
                </p>
                <p class="modal-submessage">
                    â€¢ Emergency veterinary services contacted<br>
                    â€¢ Your emergency contacts have been notified<br>
                    â€¢ Location shared with emergency responders
                </p>
                <div class="emergency-countdown">
                    <span>Help is on the way...</span>
                    <div class="countdown-timer" id="countdownTimer">Connecting...</div>
                </div>
                <button class="modal-btn emergency-btn" onclick="closeSosModal()">
                    I'm Safe Now
                </button>
            </div>
        </div>
    </div>

    <div id="dietPlannerModal" class="modal">
        <div class="modal-content diet-modal">
            <div class="modal-header">
                <h2>ğŸ– Pet Diet Planner</h2>
                <span class="close" onclick="closeDietPlannerModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="dietPlannerForm" class="diet-form">
                    <div class="form-section">
                        <h3>ğŸ¾ Pet Information</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="dietPetName">Pet Name</label>
                                <input type="text" id="dietPetName" placeholder="Enter your pet's name" required>
                            </div>
                            <div class="form-group">
                                <label for="dietPetAge">Age</label>
                                <input type="text" id="dietPetAge" placeholder="e.g., 2 years, 6 months" required>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="dietPetBreed">Breed</label>
                                <input type="text" id="dietPetBreed" placeholder="e.g., Golden Retriever, Persian Cat" required>
                            </div>
                            <div class="form-group">
                                <label for="dietPetCondition">Health Condition</label>
                                <select id="dietPetCondition" required>
                                    <option value="">Select condition</option>
                                    <option value="healthy">Healthy</option>
                                    <option value="overweight">Overweight</option>
                                    <option value="underweight">Underweight</option>
                                    <option value="allergies">Food Allergies</option>
                                    <option value="diabetes">Diabetes</option>
                                    <option value="kidney disease">Kidney Disease</option>
                                    <option value="senior">Senior Pet</option>
                                    <option value="puppy/kitten">Puppy/Kitten</option>
                                </select>
                            </div>
                        </div>
                        
                        <button type="button" class="generate-diet-btn" onclick="generateDietPlan()">
                            ğŸ– Generate Personalized Diet Plan
                        </button>
                    </div>
                </form>
                
                <div id="dietResults" class="diet-results"></div>
            </div>
        </div>
    </div>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>